import{Q as L}from"./QImg.d7f1f22a.js";import{r as R,u as V,a as I,s as _,c as S,b as A,o as t,d as l,w as a,e,Q as h,f as B,g as r,h as n,i as Q,j as D,k as z,l as p,v as F,m as b,n as w,t as U,F as H,p as j,R as q}from"./index.0f80e695.js";import{Q as E,a as M,b as O,c as v,d as o,e as G,f as J}from"./QLayout.8a0b907a.js";import{Q as P,a as d}from"./format.826bc018.js";import{Q as K}from"./QPageContainer.b25943ba.js";import{_ as W}from"./white_catchTime.6bee3d75.js";import"./use-dark.a03b507b.js";import"./QScrollObserver.8f701a27.js";import"./rtl.b51694b1.js";const X=Q("span",{style:{"font-size":"medium"}}," CatchTime ",-1),Y=["src"],ne={__name:"MainLayout",setup(Z){const u=R(!1),i=V(),k=I(),{isLogin:c}=_(i),{isAdmin:f}=_(i),y=()=>{u.value=!u.value},T=S(()=>[{iconName:"fa-solid fa-house",label:"\u9996\u9801",to:"/IndexPage",show:!0},{iconName:"fa-regular fa-image",label:"\u767C\u73FE",to:"/ImagePage",show:!0},{iconName:"fa-regular fa-comment",label:"\u8A0E\u8AD6",to:"/PTTPage",show:!0},{iconName:"fa-regular fa-calendar-check",label:"\u6D3B\u52D5",to:"/ActivityPage",show:!0},{iconName:"fa-solid fa-arrow-right-to-bracket",label:"\u767B\u5165/\u8A3B\u518A",to:"/LoginPage",show:!i.isLogin},{iconName:"fa-solid fa-gear",label:"\u7BA1\u7406",to:"/setting/PhotoSettingPage",show:f}]),m=async()=>{try{await j.delete("/users/logout"),i.logout(),k.push("/IndexPage")}catch{}};return(x,g)=>{const N=A("router-view");return t(),l(E,{view:"hHh lpR fFf"},{default:a(()=>[e(G,{elevated:"",class:"bg-blue-grey-6 text-white","height-hint":"98"},{default:a(()=>[e(M,null,{default:a(()=>[e(O,{size:"md"},{default:a(()=>[e(h,{size:"xl"},{default:a(()=>[e(L,{src:W,class:"q-mr-xs"})]),_:1}),X]),_:1}),e(B,{dense:"",flat:"",round:"",icon:"menu",onClick:y,class:"lt-sm"}),e(v,{align:"left",class:"gt-xs"},{default:a(()=>[e(o,{to:"/IndexPage",label:"\u9996\u9801"}),e(o,{to:"/ImagePage",label:"\u767C\u73FE"}),e(o,{to:"/PTTPage",label:"\u8A0E\u8AD6"}),e(o,{to:"/ActivityPage",label:"\u6D3B\u52D5"}),r(c)?n("",!0):(t(),l(o,{key:0,to:"/LoginPage",label:"\u767B\u5165/\u8A3B\u518A"})),r(f)?(t(),l(o,{key:1,to:"/setting/PhotoSettingPage",label:"\u7BA1\u7406"})):n("",!0),r(c)?(t(),l(o,{key:2,label:"\u767B\u51FA",onClick:m})):n("",!0)]),_:1}),e(v,{align:"left"},{default:a(()=>[r(c)?(t(),l(o,{key:0,to:"/UserPage"},{default:a(()=>[e(h,null,{default:a(()=>[Q("img",{src:r(i).avatar},null,8,Y)]),_:1})]),_:1})):n("",!0)]),_:1})]),_:1})]),_:1}),e(J,{modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=s=>u.value=s),side:"right",bordered:"",dark:"true"},{default:a(()=>[(t(!0),D(H,null,z(T.value,(s,C)=>p((t(),l(P,{key:C,to:s.to},{default:a(()=>[e(d,{avatar:""},{default:a(()=>[e(b,{name:s.iconName},null,8,["name"])]),_:2},1024),e(d,null,{default:a(()=>[w(U(s.label),1)]),_:2},1024)]),_:2},1032,["to"])),[[F,s.show]])),128)),r(c)?p((t(),l(P,{key:0,onClick:m,clickable:""},{default:a(()=>[e(d,{avatar:""},{default:a(()=>[e(b,{name:"fa-solid fa-arrow-right-from-bracket"})]),_:1}),e(d,null,{default:a(()=>[w("\u767B\u51FA")]),_:1})]),_:1})),[[q]]):n("",!0)]),_:1},8,["modelValue"]),e(K,null,{default:a(()=>[e(N)]),_:1})]),_:1})}}};export{ne as default};
