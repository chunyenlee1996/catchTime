import{Q as C}from"./QImg.20d231d0.js";import{r as R,u as V,a as A,s as _,c as B,b as D,d as o,e as l,w as t,f as e,Q as p,g as L,h as i,i as g,j as k,k as I,l as z,m as h,v as F,n as b,p as v,t as U,F as q,q as H,R as j}from"./index.db764cee.js";import{Q as E,a as O,b as G,c as Q,d as s,e as J,f as K}from"./QLayout.2f93245e.js";import{Q as w,a as u}from"./use-prevent-scroll.7f7d7311.js";import{Q as M}from"./QPageContainer.491d7462.js";import{_ as W}from"./white_catchTime.6bee3d75.js";import"./use-dark.7d48d3c9.js";import"./QScrollObserver.88dd0327.js";import"./format.5c5cc304.js";import"./rtl.b51694b1.js";const X=k("span",{style:{"font-size":"medium"}}," CatchTime \u7BA1\u7406\u5F8C\u53F0 ",-1),Y=["src"],ue={__name:"SettingLayout",setup(Z){const r=R(!1),n=V(),P=A(),{isLogin:c}=_(n),{isAdmin:d}=_(n),y=()=>{r.value=!r.value},T=B(()=>[{iconName:"fa-regular fa-image",label:"\u5716\u7247\u7BA1\u7406",to:"/setting/PhotoSettingPage",show:d},{iconName:"fa-regular fa-comment",label:"\u8AD6\u58C7\u7BA1\u7406",to:"/setting/PTTSettingPage",show:d},{iconName:"fa-regular fa-calendar-check",label:"\u6D3B\u52D5\u7BA1\u7406",to:"/setting/ActivitySettingPage",show:d},{iconName:"fa-solid fa-person-running",label:"\u96E2\u958B",to:"/IndexPage",show:!0}]),m=async()=>{try{await H.delete("/users/logout"),n.logout(),P.push("/IndexPage")}catch{}};return(x,f)=>{const S=D("router-view");return o(),l(E,{view:"hHh lpR fFf"},{default:t(()=>[e(J,{elevated:"",class:"bg-blue-grey-6 text-white","height-hint":"98"},{default:t(()=>[e(O,null,{default:t(()=>[e(G,{size:"md"},{default:t(()=>[e(p,{size:"xl"},{default:t(()=>[e(C,{src:W,class:"q-mr-xs"})]),_:1}),X]),_:1}),e(L,{dense:"",flat:"",round:"",icon:"menu",onClick:y,class:"lt-sm"}),e(Q,{align:"left",class:"gt-xs"},{default:t(()=>[e(s,{to:"/setting/PhotoSettingPage",label:"\u5716\u7247\u7BA1\u7406"}),e(s,{to:"/setting/PTTSettingPage",label:"\u8AD6\u58C7\u7BA1\u7406"}),e(s,{to:"/setting/ActivitySettingPage",label:"\u6D3B\u52D5\u7BA1\u7406"}),e(s,{to:"/IndexPage",label:"\u96E2\u958B"}),i(c)?(o(),l(s,{key:0,label:"\u767B\u51FA",onClick:m})):g("",!0)]),_:1}),e(Q,{align:"left"},{default:t(()=>[i(c)?(o(),l(s,{key:0,to:"/UserPage"},{default:t(()=>[e(p,null,{default:t(()=>[k("img",{src:i(n).avatar},null,8,Y)]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1}),e(K,{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=a=>r.value=a),side:"right",bordered:"",dark:"true"},{default:t(()=>[(o(!0),I(q,null,z(T.value,(a,N)=>h((o(),l(w,{key:N,to:a.to},{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(b,{name:a.iconName},null,8,["name"])]),_:2},1024),e(u,null,{default:t(()=>[v(U(a.label),1)]),_:2},1024)]),_:2},1032,["to"])),[[F,a.show]])),128)),i(c)?h((o(),l(w,{key:0,onClick:m,clickable:""},{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(b,{name:"fa-solid fa-arrow-right-from-bracket"})]),_:1}),e(u,null,{default:t(()=>[v("\u767B\u51FA")]),_:1})]),_:1})),[[j]]):g("",!0)]),_:1},8,["modelValue"]),e(M,null,{default:t(()=>[e(S)]),_:1})]),_:1})}}};export{ue as default};
