import{Q as N}from"./rtl.37905543.js";import{r as R,u as V,a as B,s as _,c as D,b as L,o,d as s,w as a,e,Q as p,f as I,g as i,h as d,i as k,j as z,k as A,l as h,v as F,m as b,n as Q,t as U,F as H,p as j,R as q}from"./index.3bc77ca5.js";import{Q as E,a as O,b as G,c as v,d as l,e as J,f as K}from"./QLayout.681c76ad.js";import{Q as w,a as u}from"./QItem.62e2cac4.js";import{Q as M}from"./QPageContainer.213e0a49.js";import{_ as W}from"./white_catchTime.6bee3d75.js";import"./uid.42677368.js";import"./QScrollObserver.bad7f234.js";import"./format.079d6594.js";import"./use-dark.a295ce0c.js";const X=k("span",{style:{"font-size":"medium"}}," CatchTime \u7BA1\u7406\u5F8C\u53F0 ",-1),Y=["src"],ue={__name:"SettingLayout",setup(Z){const r=R(!1),n=V(),P=B(),{isLogin:c}=_(n),{isAdmin:m}=_(n),T=()=>{r.value=!r.value},x=D(()=>[{iconName:"fa-regular fa-image",label:"\u5716\u7247\u7BA1\u7406",to:"/setting/PhotoSettingPage",show:m},{iconName:"fa-regular fa-comment",label:"\u8AD6\u58C7\u7BA1\u7406",to:"/setting/PTTSettingPage",show:m},{iconName:"fa-solid fa-person-running",label:"\u96E2\u958B",to:"/IndexPage",show:!0}]),f=async()=>{try{await j.delete("/users/logout"),n.logout(),P.push("/IndexPage")}catch{}};return(y,g)=>{const S=L("router-view");return o(),s(E,{view:"hHh lpR fFf"},{default:a(()=>[e(J,{elevated:"",class:"bg-blue-grey-6 text-white","height-hint":"98"},{default:a(()=>[e(O,null,{default:a(()=>[e(G,{size:"md"},{default:a(()=>[e(p,{size:"xl"},{default:a(()=>[e(N,{src:W,class:"q-mr-xs"})]),_:1}),X]),_:1}),e(I,{dense:"",flat:"",round:"",icon:"menu",onClick:T,class:"lt-sm"}),e(v,{align:"left",class:"gt-xs"},{default:a(()=>[e(l,{to:"/setting/PhotoSettingPage",label:"\u5716\u7247\u7BA1\u7406"}),e(l,{to:"/setting/PTTSettingPage",label:"\u8AD6\u58C7\u7BA1\u7406"}),e(l,{to:"/IndexPage",label:"\u96E2\u958B"}),i(c)?(o(),s(l,{key:0,label:"\u767B\u51FA",onClick:f})):d("",!0)]),_:1}),e(v,{align:"left"},{default:a(()=>[i(c)?(o(),s(l,{key:0,to:"/UserPage"},{default:a(()=>[e(p,null,{default:a(()=>[k("img",{src:i(n).avatar},null,8,Y)]),_:1})]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1}),e(K,{modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=t=>r.value=t),side:"right",bordered:"",dark:"true"},{default:a(()=>[(o(!0),z(H,null,A(x.value,(t,C)=>h((o(),s(w,{key:C,to:t.to},{default:a(()=>[e(u,{avatar:""},{default:a(()=>[e(b,{name:t.iconName},null,8,["name"])]),_:2},1024),e(u,null,{default:a(()=>[Q(U(t.label),1)]),_:2},1024)]),_:2},1032,["to"])),[[F,t.show]])),128)),i(c)?h((o(),s(w,{key:0,onClick:f,clickable:""},{default:a(()=>[e(u,{avatar:""},{default:a(()=>[e(b,{name:"fa-solid fa-arrow-right-from-bracket"})]),_:1}),e(u,null,{default:a(()=>[Q("\u767B\u51FA")]),_:1})]),_:1})),[[q]]):d("",!0)]),_:1},8,["modelValue"]),e(M,null,{default:a(()=>[e(S)]),_:1})]),_:1})}}};export{ue as default};
